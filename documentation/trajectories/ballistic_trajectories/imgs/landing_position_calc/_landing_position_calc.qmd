::: {.panel-tabset}

# {{< fa image >}} Figure

::: {#fig-landing_position_calc}
![](/documentation/trajectories/ballistic_trajectories/imgs/landing_position_calc/landing_position_calc.png){width="600px"}

Sketch the spherical trigonometry problem of the landing position calculation. The ground track distance is given as an angular distance of $\Delta\trueAnomaly$, complemented by all additional angular arguments used for the derivation of the landing position.
:::

# {{< fa code >}} LaTeX
```latex
\tdplotsetmaincoords{70}{135}
\begin{tikzpicture}[tdplot_main_coords, scale=1.25]

    %::. "coordinate system" and sphere lines
    \draw[TUMGrayLight, dashed] (0,0,0) -- (0,0,3);
    \tdplotdrawarc[TUMGrayLight, dashed]{(0,0,0)}{3}{-1}{110}{}{}
    \tdplotdrawarc[TUMGrayLight, dashed]{(0,0,1.460)}{2.573}{-3}{110}{}{}

    %::. start point
    \pgfmathsetmacro{\psx}{2.433}
    \pgfmathsetmacro{\psy}{0.973}
    \pgfmathsetmacro{\psz}{1.460}

    \node[anchor=east, yshift=-3] at (\psx, \psy, \psz) {\footnotesize launch};

    \draw[TUMGrayLight, dashed] (0,0,0) -- (2.7854, 1.1142, 0);
    \draw[TUMGrayLight, dashed] (\psx, \psy, 0) -- (\psx, \psy, \psz);

    \tdplotgetpolarcoords{\psx}{\psy}{\psz}
    \tdplotsetthetaplanecoords{\tdplotresphi}

    \tdplotdrawarc[latex-, tdplot_rotated_coords]{(0,0,0)}{3}{\tdplotrestheta}{90}{anchor=east}{$\latitude_0$}
    \tdplotdrawarc[tdplot_rotated_coords]{(0,0,0)}{3}{0}{\tdplotrestheta}{anchor=east}{$\overline{\latitude_0}$}

    %::. end point
    \pgfmathsetmacro{\pex}{0.045}
    \pgfmathsetmacro{\pey}{1.785}
    \pgfmathsetmacro{\pez}{2.410}

    \node[anchor=west, xshift=1] at (\pex, \pey, \pez) {\footnotesize landing};

    \draw[TUMGrayLight, dashed] (0,0,0) -- (0.0756, 2.999, 0);
    \draw[TUMGrayLight, dashed] (\pex, \pey, 0) -- (\pex, \pey, \pez);

    \tdplotgetpolarcoords{\pex}{\pey}{\pez}
    \tdplotsetthetaplanecoords{\tdplotresphi}

    \tdplotdrawarc[latex-, tdplot_rotated_coords]{(0,0,0)}{3}{\tdplotrestheta}{90}{anchor=west}{$\latitude_1$}
    \tdplotdrawarc[tdplot_rotated_coords]{(0,0,0)}{3}{0}{\tdplotrestheta}{anchor=west, xshift=4}{$\overline{\latitude_1}$}

    %::. connection (cross product for 3d orientation)
    \tdplotcrossprod(\psx,\psy,\psz)(\pex,\pey,\pez)

    \tdplotgetpolarcoords{\tdplotresx}{\tdplotresy}{\tdplotresz}
    \tdplotsetrotatedcoords{\tdplotresphi}{\tdplotrestheta}{180-\tdplotrestheta+1}

    \tdplotdrawarc[very thick, -latex, tdplot_rotated_coords]{(0,0,0)}{3}{0}{\tdplotrestheta}{anchor=north, xshift=5}{$\Delta\trueAnomaly$}

    %::. longitude
    \tdplotdrawarc[latex-latex, thin,]{(0,0,0)}{1.5}{22}{88}{anchor=north}{$\Delta\longitude$}

    %::. launch azimuth angle
    \tdplotgetpolarcoords{\psx}{\psy}{\psz}
    \tdplotsetrotatedcoords{\tdplotresphi}{\tdplotrestheta}{0}
    \tdplotdrawarc[-latex, thin, tdplot_rotated_coords]{(0,0,3)}{0.6}{93}{135}{anchor=west}{$\azimuthAngle$}
\end{tikzpicture}
```

Note that the code above requires the TikZ package `tikz-3dplot`. Additionally, the code relies on further definitions, for example of the gray-color: `\definecolor{TUMGrayLight}  {RGB}{204, 204, 204}` based on the `xcolor` package.

# {{< fa download >}} Download

* {{< downloadthis ballistic_trajectories/imgs/landing_position_calc/landing_position_calc.svg label="landing_position_calc.svg" type="light" dname="landing_position_calc" >}}

* {{< downloadthis ballistic_trajectories/imgs/landing_position_calc/landing_position_calc.pdf label="landing_position_calc.pdf" type="light" dname="landing_position_calc" >}}

* {{< downloadthis ballistic_trajectories/imgs/landing_position_calc/landing_position_calc.png label="landing_position_calc.png" type="light" dname="landing_position_calc" >}}

:::