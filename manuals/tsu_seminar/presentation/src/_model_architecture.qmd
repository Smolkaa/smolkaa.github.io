## Model Architecture {auto-animate=true}
#### Nested-Loop Monte-Carlo Simulation

:::: {.columns}
::: {.column}
![](../imgs/model_architecture/loop_I.svg){width=90%}
:::

::: {.column}

* $\left(\surfaceNumberDensity\right)_k^{i,j}$: Surface number density of the $i$-th Monte-Carlo step, the $j$-th iteration, at the $k$-th grid element
* Updating of the surface number density: $\left(\surfaceNumberDensity\right)_k^{i,j} += \frac{\weight}{\area\velocity_z}$
  - $\weight$: current weight of the particle
  - $\area$: area of the grid element at the current position
  - $\velocity_z$: vertical velocity of the particle

</br>

* Updating the particle weight:
  - rate losses: $\weight \mapsto \weight \cdot \left(1 - \exp\left(-\rate\Time\right)\right)$
    - time-of-flight: $\Time_f$, or 
    - residence time: $\residenceTime = \frac{\PlanckConstant}{\BoltzmannConstant\temperature}\cdot\exp\left(\frac{\energy}{\GasConstant\temperature}\right)$
  - probability losses: $\weight \mapsto \weight \cdot \left(1 - \sum p \right)$
  - escape or cold trapping: $\weight \mapsto 0.0$
:::
::::

## Model Architecture {auto-animate=true transition="fade-in"}
#### Nested-Loop Monte-Carlo Simulation


:::: {.columns}
::: {.column}
![](../imgs/model_architecture/loop_I.svg){width=90%}
:::

::: {.column}
![](../imgs/model_architecture/loop_II.svg){width=80%}
:::
::::

## Model Architecture {auto-animate=true transition="fade-in"}
#### Nested-Loop Monte-Carlo Simulation


:::: {.columns}
::: {.column}
![](../imgs/model_architecture/loop_II.svg){width=80%}
:::

::: {.column}
Some Text
:::
::::

## Model Architecture {auto-animate=true transition="fade-in"}
#### Nested-Loop Monte-Carlo Simulation


:::: {.columns}
::: {.column}
![](../imgs/model_architecture/loop_II.svg){width=80%}
:::

::: {.column}
![](../imgs/model_architecture/loop_III.svg){width=75%}
:::
::::

## Model Architecture {auto-animate=true transition="fade-in"}


:::: {.columns}
::: {.column}
![](../imgs/model_architecture/loop_III.svg){width=75%}
:::

::: {.column}
Some Text
:::
::::

## Model Architecture {auto-animate=true transition="fade-in"}


:::: {.columns}
::: {.column}
![](../imgs/model_architecture/loop_III.svg){width=75%}
:::

::: {.column}
![](../imgs/model_architecture/loop_IV.svg){width=75%}
:::
::::